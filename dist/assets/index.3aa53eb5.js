import{ab as p,r as n,b as _,j as s,aB as P,a1 as v,S as C,ah as A,B as u,aA as j,n as m,m as k}from"./vendor.c9756e39.js";import{I as E,f as w,P as I,e as B,Y as R}from"./index.8c351c16.js";const f={office_id:"",title:"",type_id:"",regular_program:0,bases:[],program_id:"",description:"",total_cost:0,spatial_coverage_id:"",locations:[],approval_level_id:"",approval_date:"",pip:!1,typology_id:"",trip:!1,cip:!1,cip_type_id:"",gad_id:"",rdip:!1,rdc_endorsement_required:!1,rdc_endorsement_date:"",research:!1,ifp:!1,ict:!1,covid:!1,pdp_chapter_id:"",pdp_chapters:[],pdp_outputs:[],infrastructure_sectors:[],prerequisites:[],implementation_risk:"",fs_infrastructures:[],expected_outputs:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolore, tempora.",agenda:[],sdgs:[],preparation_document_id:"",fs_needs_assistance:!1,fs_completion_date:"",fs_status_id:"",fs_total_cost:0,employment_generated:0,employed_male:0,employed_female:0,funding_source_id:"",funding_sources:[],funding_institutions:[],implementation_mode_id:"",project_status_id:"",category_id:"",prexcs:[],start_year:2023,end_year:2028,updates:"",readiness_level_id:"",updates_as_of:"",regions:[],fs_investments:[],financial_accomplishment:{nep_2023:0,gaa_2023:0,disbursement_2023:0,nep_2024:0,gaa_2024:0,disbursement_2024:0,nep_2025:0,gaa_2025:0,disbursement_2025:0,nep_2026:0,gaa_2026:0,disbursement_2026:0,nep_2027:0,gaa_2027:0,disbursement_2027:0,nep_2028:0,gaa_2028:0,disbursement_2028:0},operating_units:[],nafmip_outputs:[],pdp_strategies:[],remarks:""},q=()=>{const g=()=>window.history.back(),[r]=p.useForm(),[l,o]=n.exports.useState(!1),h=async t=>{o(!0);try{const a=await I.post(t);o(!1),m.success({message:B.SUCCESS_MESSAGE,description:a.data.message}),r.resetFields()}catch(a){o(!1),m.error({message:"Error!",description:a.response.data.message})}},[d,y]=n.exports.useState({nep:0,gaa:0,disbursement:0}),b=(t,a)=>{const i=R.map(e=>`${t}_${e}`).map(e=>({[e]:a[e]})).reduce((e,S)=>(e+=parseFloat(Object.values(S)),e),0);y(e=>({...e,[t]:i})),console.log("totals",d)},F=()=>k.error("Check your inputs!"),x=(t,{financial_accomplishment:a})=>{["nep","gaa","disbursement"].forEach(i=>b(i,a))},c=t=>r.setFieldsValue(f);return _(n.exports.Fragment,{children:[s(P,{children:s(v,{title:"Add PIP/CIP/TRIP",onBack:g,extra:_(C,{children:[s(A,{title:"Are you sure you want to reset this form? All your inputs will be deleted.",onConfirm:c,children:s(u,{danger:!0,children:"Reset"})}),s(u,{type:"primary",icon:s(j,{}),onClick:r.submit,loading:l,children:"Save"})]})})}),s(E,{children:s(p,{form:r,initialValues:f,onFinish:h,onFinishFailed:F,labelWrap:!0,labelCol:{xl:8,lg:6},wrapperCol:{xl:12,lg:14},layout:"horizontal",onValuesChange:x,disabled:l,scrollToFirstError:!0,onReset:c,children:s(w,{form:r,totals:d})})})]})};export{q as default,f as defaultFields};
