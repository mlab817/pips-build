import{ak as m,j as t,A as k,r as n,b as d,F as I,a1 as A,s as L,B as S,as as b,a4 as v,aK as g,o as C,h as _}from"./vendor.876bea49.js";import{I as j,a as T}from"./index.c1131783.js";const p=({user:r})=>{const{color:o,initials:i}=r;return t(k,{style:{backgroundColor:o},children:i})};p.propTypes={user:m.exports.object};const w={created:"#52c41a",updated:"#1890ff",deleted:"#f5222d"},F=()=>{const[r,o]=n.exports.useState([]),[i,c]=n.exports.useState(!1),[u,y]=n.exports.useState({}),[l,f]=n.exports.useState(1);n.exports.useEffect(()=>{(async()=>{c(!0);try{const a=await T.get("/activity-logs",{params:{page:l}}),{data:s,meta:{pagination:h}}=a.data;o(s),y(h),c(!1)}catch{c(!1)}})()},[l]);const x=[{title:"Log",dataIndex:"log_name",key:"log_name",render:e=>t(g,{children:e}),align:"center"},{title:"Resource",dataIndex:"resource",key:"resource",align:"center"},{title:"Resource ID",dataIndex:"key",key:"key",render:(e,a)=>{var s;return(s=a.subject)==null?void 0:s.id},align:"center"},{title:"By",dataIndex:"causer",key:"causer",render:(e,a)=>{var s;return t(C,{title:(s=a.causer)==null?void 0:s.fullname,children:t(p,{user:a.causer})})},align:"center"},{title:"Action",dataIndex:"description",key:"description",render:e=>t(g,{color:w[e],children:e}),align:"center"},{title:"Created At",dataIndex:"created_at",key:"created_at",render:e=>_(e).fromNow(),align:"center"}];return d(I,{children:[t(A,{title:d("span",{children:[t(L,{})," Activity Logs"]}),extra:t(S,{icon:t(b,{}),type:"text",onClick:()=>alert("History of activities made by the user.")})}),t(j,{children:t(v,{loading:i,dataSource:r,pagination:{...u,onChange:e=>f(e)},columns:x,style:{marginBottom:16},size:"middle"},e=>e.id)})]})};export{F as default};
